<!--
Curso Superior de Bacharelado em Sistemas de Informação
Disciplina Optativa IV - Programação para Dispositivos Móveis
Professor: Angelo Augusto Frozza, M.Sc.
Avaliação
Janio Luiz Antunes 
-->
<!DOCTYPE html>
<html manifest="dao.manifest">
	<head>
		<meta name="viewport" content="width=320, initial-scale=1.0">
		<meta charset="UTF-8">
		<title>Boteko's</title>
		<script type="text/javascript" src="lib/cordova.js"></script>
		<script type="text/javascript" charset="utf-8">
			// Wait for Cordova to load
			//
			document.addEventListener("deviceready", onDeviceReady, false);

			// Cordova is ready
			//
			function onDeviceReady() {
			var element = document.getElementById('deviceProperties');

			element.innerHTML = 'Device Name: '     + device.name     + '<br />' + 
							'Device Cordova: '  + device.cordova + '<br />' + 
							'Device Platform: ' + device.platform + '<br />' + 
							'Device UUID: '     + device.uuid     + '<br />' + 
							'Device Model: '    + device.model     + '<br />' + 
							'Device Version: '  + device.version  + '<br />';
			}

			function checkConnection() {
				var networkState = navigator.connection.type;
				var states = {};
				states[Connection.UNKNOWN] = 'Conexão desconhecida';
				states[Connection.ETHERNET] = 'Ethernet';
				states[Connection.WIFI] = 'WiFi';
				states[Connection.CELL_2G] = 'Celular 2G';
				states[Connection.CELL_3G] = 'Celular 3G';
				states[Connection.CELL_4G] = 'Celular 4G';
				states[Connection.CELL] = 'Conexão celular genérica';
				states[Connection.NONE] = 'Sem conexão rede';
				alert('Tipo de conexão: ' + states[networkState]);
			}
		</script>
		<script type="text/javascript" src="lib/jquery-2.0.3.min.js"></script>
		<script type="text/javascript" src="lib/jquery.mobile-1.3.2.min.js"></script>
		<link rel="stylesheet" href="lib/jquery.mobile-1.3.2.min.css" />
		<script type="text/javascript" src="Model/item.js"></script>
		<script type="text/javascript" src="DAO/dao.js"></script>
		<script type="text/javascript" src="Model/db.js"></script>
		<script type="text/javascript" src="Controller/controller.js"></script>
		<style>
			textarea{
				resize: none;
			}
			ul{
				list-style: none;
			}
			#status{
				display: none;
			}
			#total{
				float: right;
				font-size: 37px;
			}
		</style>
	</head>

	<body onload="checkDB()">
		<div data-role="page">

			<!--Cabeçalho-->
			<div data-role="header">
				<p id="deviceProperties">Loading device properties...</p>
			</div>

			<!--Conteúdo-->
			<div data-role="content">

				<!--Formulário-->
				<div id="formulario">
					<form name="itemForm">

						<!--Indice do banco-->
						<input type="hidden" name="id" id="id" size="2" disabled="true">
						
						<!--Campo Cliente-->
						<div id="divCliente">
							<!--label for="cliente">Cliente:</label-->
							<textarea  cols="40" rows="8" name="cliente" id="cliente" style="display:none"></textarea>
							<div>
								<div data-role="fieldcontain" style="width:80%">
									<select name="selCliente" id="selCliente" onchange="PassaValor();">
										<option selected>Cliente</option>
									</select>
								
									<a href="#popupBasic" data-role="button" data-rel="popup" style="width:18%; float: right;
margin-right: -67px; margin-top: -43px;">+</a> 
									<div data-role="popup" id="popupBasic">
										<div style="padding:10px 20px;">
											<h3>Nome:</h3>
											<input type="text" name="cadCliente" id="cadCliente" value="" >
											<button type="submit" class="ui-btn-hidden" onclick="displayResult()">Cadastrar</button>
										</div>
									</div>
								</div>
							</div>
						</div>

						<!--Campo Bebida-->
						<div id="divBebida">
							<label for="bebida">Bebida:</label>
							<textarea cols="40" rows="8" name="bebida" id="bebida"></textarea>
						</div>

						<!--Campo Quantidade-->
						<div id="divQuantidade">
							<label for="quantidade">Quantidade:</label>
							<input type="text" name="quantidade" id="quantidade" value="">
						</div>

						<!--Campo Valor-->
						<div id="divValor">
							<label for="valor">Valor:</label>
							<input type="text" name="valor" id="valor" value="">
						</div>

						<span id="total">TOTAL R$: 0,00</span>
						<div data-role="controlgroup" data-type="horizontal">
							<input id="btnInserir" type="button" onclick="insertItem($('#cliente').val(),$('#bebida').val(),$('#quantidade').val(),$('#valor').val())" value="salvar">
							<input type="button" onclick="updateItem($('#id').val(),$('#cliente').val(),$('#bebida').val(),$('#quantidade').val(),$('#valor').val())" value="editar">
							<input type="button" onclick="deleteItem($('#id').val())" value="apagar">
						</div>
					</form>
				</div>
				
				<div id="status">Tabela 'drink' status: OK.</div>

				<div data-role="collapsible" data-collapsed-icon="arrow-r" data-expanded-icon="arrow-d" data-content-theme="c">
						<h3>detalhes</h3>
						<ul id="itemData" style="cursor:pointer;">
					 </ul></p>
					</div>

			</div>
			
			<!--Rodapé-->
			<div data-role="footer" data-position="fixed">
				<h1>Janio L. Antunes</h1>
			</div>
		</div>
	</body>
</html>
